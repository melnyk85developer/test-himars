{"ast":null,"code":"import { useEffect } from \"react\";\nimport { v1 as uuidv1 } from 'uuid';\nimport { profileAPI } from '../services/getUsers';\nimport HiMarsMoks from \"../fixtures/HiMarsMoks\";\nconst ADD_POST = 'profile/ADD-POST';\nconst SET_PROFILE = 'profile/SET-PROFILE';\nconst SET_STATUS = 'profile/SET_STATUS';\nconst posts = HiMarsMoks.posts;\nlet initialState = {\n  profile: null,\n  status: \"\",\n  posts\n};\nconst profileReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case ADD_POST:\n      {\n        let newPost = {\n          id: uuidv1(),\n          post: action.newPostText,\n          like: 0,\n          dislike: 0\n        };\n        return {\n          ...state,\n          posts: [...state.posts, newPost],\n          newPostText: ''\n        };\n      }\n    case SET_STATUS:\n      {\n        return {\n          ...state,\n          status: action.status\n        };\n      }\n    case SET_PROFILE:\n      {\n        return {\n          ...state,\n          profile: action.profile\n        };\n      }\n    default:\n      return state;\n  }\n};\nexport const addPostActionCreator = newPostText => ({\n  type: ADD_POST,\n  newPostText\n});\nexport const setProfile = profile => ({\n  type: SET_PROFILE,\n  profile\n});\nexport const setStatus = status => ({\n  type: SET_STATUS,\n  status\n});\nexport const getProfile = userId => async dispatch => {\n  const response = await profileAPI.getProfile(userId);\n  dispatch(setProfile(response.data));\n};\nexport const getStatus = userId => async dispatch => {\n  const response = await profileAPI.getStatus(userId);\n  dispatch(setStatus(response.data));\n};\nexport const updateStatus = status => async dispatch => {\n  const response = await profileAPI.updateStatus(status);\n  if (response.data.resultCode === 0) {\n    dispatch(setStatus(status));\n  }\n};\nexport default profileReducer;","map":{"version":3,"names":["useEffect","v1","uuidv1","profileAPI","HiMarsMoks","ADD_POST","SET_PROFILE","SET_STATUS","posts","initialState","profile","status","profileReducer","state","arguments","length","undefined","action","type","newPost","id","post","newPostText","like","dislike","addPostActionCreator","setProfile","setStatus","getProfile","userId","dispatch","response","data","getStatus","updateStatus","resultCode"],"sources":["/home/mr/www/melnyk85developer.github.io/test-himars/src/store/profileReducer.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport { v1 as uuidv1 } from 'uuid';\nimport { profileAPI } from '../services/getUsers';\nimport HiMarsMoks from \"../fixtures/HiMarsMoks\";\n\nconst ADD_POST = 'profile/ADD-POST';\nconst SET_PROFILE = 'profile/SET-PROFILE';\nconst SET_STATUS = 'profile/SET_STATUS';\n\nconst posts = HiMarsMoks.posts;\n\nlet initialState = {\n    profile: null,\n    status: \"\",\n    posts\n}\n\nconst profileReducer = (state = initialState, action) => {\n\n    switch(action.type){\n        case ADD_POST: {\n            let newPost = {\n                id: uuidv1(),\n                post: action.newPostText,\n                like: 0,\n                dislike: 0\n            };\n            return { \n                ...state,\n                posts: [...state.posts, newPost],\n                newPostText: ''\n            }\n        }\n        case SET_STATUS: {\n            return { \n                ...state,\n                status: action.status\n            };\n        }\n        case SET_PROFILE: {\n            return {\n                ...state,\n                profile: action.profile\n            }\n        }\n        default:\n            return state;\n    }\n}\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\nexport const setProfile = (profile) => ({type: SET_PROFILE, profile})\nexport const setStatus = (status) => ({type: SET_STATUS, status})\n\nexport const getProfile = (userId) => async (dispatch) => {\n    const response = await profileAPI.getProfile(userId);\n    dispatch(setProfile(response.data));\n}\nexport const getStatus = (userId) => async (dispatch) => {\n    const response = await profileAPI.getStatus(userId)\n    dispatch(setStatus(response.data))\n\n}\nexport const updateStatus = (status) => async (dispatch) => {\n    const response = await profileAPI.updateStatus(status)\n    if(response.data.resultCode === 0){\n        dispatch(setStatus(status))\n    }\n\n}\nexport default profileReducer;"],"mappings":"AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,EAAE,IAAIC,MAAM,QAAQ,MAAM;AACnC,SAASC,UAAU,QAAQ,sBAAsB;AACjD,OAAOC,UAAU,MAAM,wBAAwB;AAE/C,MAAMC,QAAQ,GAAG,kBAAkB;AACnC,MAAMC,WAAW,GAAG,qBAAqB;AACzC,MAAMC,UAAU,GAAG,oBAAoB;AAEvC,MAAMC,KAAK,GAAGJ,UAAU,CAACI,KAAK;AAE9B,IAAIC,YAAY,GAAG;EACfC,OAAO,EAAE,IAAI;EACbC,MAAM,EAAE,EAAE;EACVH;AACJ,CAAC;AAED,MAAMI,cAAc,GAAG,SAAAA,CAAA,EAAkC;EAAA,IAAjCC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGL,YAAY;EAAA,IAAEQ,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAEhD,QAAOC,MAAM,CAACC,IAAI;IACd,KAAKb,QAAQ;MAAE;QACX,IAAIc,OAAO,GAAG;UACVC,EAAE,EAAElB,MAAM,CAAC,CAAC;UACZmB,IAAI,EAAEJ,MAAM,CAACK,WAAW;UACxBC,IAAI,EAAE,CAAC;UACPC,OAAO,EAAE;QACb,CAAC;QACD,OAAO;UACH,GAAGX,KAAK;UACRL,KAAK,EAAE,CAAC,GAAGK,KAAK,CAACL,KAAK,EAAEW,OAAO,CAAC;UAChCG,WAAW,EAAE;QACjB,CAAC;MACL;IACA,KAAKf,UAAU;MAAE;QACb,OAAO;UACH,GAAGM,KAAK;UACRF,MAAM,EAAEM,MAAM,CAACN;QACnB,CAAC;MACL;IACA,KAAKL,WAAW;MAAE;QACd,OAAO;UACH,GAAGO,KAAK;UACRH,OAAO,EAAEO,MAAM,CAACP;QACpB,CAAC;MACL;IACA;MACI,OAAOG,KAAK;EACpB;AACJ,CAAC;AACD,OAAO,MAAMY,oBAAoB,GAAIH,WAAW,KAAM;EAACJ,IAAI,EAAEb,QAAQ;EAAEiB;AAAW,CAAC,CAAC;AACpF,OAAO,MAAMI,UAAU,GAAIhB,OAAO,KAAM;EAACQ,IAAI,EAAEZ,WAAW;EAAEI;AAAO,CAAC,CAAC;AACrE,OAAO,MAAMiB,SAAS,GAAIhB,MAAM,KAAM;EAACO,IAAI,EAAEX,UAAU;EAAEI;AAAM,CAAC,CAAC;AAEjE,OAAO,MAAMiB,UAAU,GAAIC,MAAM,IAAK,MAAOC,QAAQ,IAAK;EACtD,MAAMC,QAAQ,GAAG,MAAM5B,UAAU,CAACyB,UAAU,CAACC,MAAM,CAAC;EACpDC,QAAQ,CAACJ,UAAU,CAACK,QAAQ,CAACC,IAAI,CAAC,CAAC;AACvC,CAAC;AACD,OAAO,MAAMC,SAAS,GAAIJ,MAAM,IAAK,MAAOC,QAAQ,IAAK;EACrD,MAAMC,QAAQ,GAAG,MAAM5B,UAAU,CAAC8B,SAAS,CAACJ,MAAM,CAAC;EACnDC,QAAQ,CAACH,SAAS,CAACI,QAAQ,CAACC,IAAI,CAAC,CAAC;AAEtC,CAAC;AACD,OAAO,MAAME,YAAY,GAAIvB,MAAM,IAAK,MAAOmB,QAAQ,IAAK;EACxD,MAAMC,QAAQ,GAAG,MAAM5B,UAAU,CAAC+B,YAAY,CAACvB,MAAM,CAAC;EACtD,IAAGoB,QAAQ,CAACC,IAAI,CAACG,UAAU,KAAK,CAAC,EAAC;IAC9BL,QAAQ,CAACH,SAAS,CAAChB,MAAM,CAAC,CAAC;EAC/B;AAEJ,CAAC;AACD,eAAeC,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}