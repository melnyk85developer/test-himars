{"ast":null,"code":"import { useEffect } from \"react\";\nimport { v1 as uuidv1 } from 'uuid';\nimport { userProfileAPI } from \"services/getUsers\";\nimport HiMarsMoks from \"../fixtures/HiMarsMoks\";\nconst ADD_POST = 'userProfile/ADD-POST';\nconst SET_USER_PROFILE = 'userProfile/SET-USER-PROFILE';\nconst SET_STATUS = 'userProfile/SET_STATUS';\nconst posts = HiMarsMoks.posts;\nlet initialState = {\n  profile: null,\n  status: \"\",\n  posts\n};\nconst userProfileReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case ADD_POST:\n      {\n        let newPost = {\n          id: uuidv1(),\n          post: action.newPostText,\n          like: 0,\n          dislike: 0\n        };\n        return {\n          ...state,\n          posts: [...state.posts, newPost],\n          newPostText: ''\n        };\n      }\n    case SET_STATUS:\n      {\n        return {\n          ...state,\n          status: action.status\n        };\n      }\n    case SET_USER_PROFILE:\n      {\n        return {\n          ...state,\n          profile: action.profile\n        };\n      }\n    default:\n      return state;\n  }\n};\nexport const addPostActionCreator = newPostText => ({\n  type: ADD_POST,\n  newPostText\n});\nexport const setUserProfile = profile => ({\n  type: SET_USER_PROFILE,\n  profile\n});\nexport const setStatus = status => ({\n  type: SET_STATUS,\n  status\n});\nexport const getUserProfile = userId => {\n  var _s = $RefreshSig$();\n  return _s(dispatch => {\n    _s();\n    useEffect(() => {\n      userProfileAPI.getUserProfile(userId).then(response => {\n        dispatch(setUserProfile(response.data));\n      });\n    }, [dispatch]);\n  }, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n};\nexport const getStatus = userId => dispatch => {\n  userProfileAPI.getStatus(userId).then(response => {\n    dispatch(setStatus(response.data.data));\n  });\n};\nexport const updateStatus = status => dispatch => {\n  userProfileAPI.updateStatus(status).then(response => {\n    if (response.data.resultCode === 0) {\n      dispatch(setStatus(response.data));\n    }\n  });\n};\nexport default userProfileReducer;","map":{"version":3,"names":["useEffect","v1","uuidv1","userProfileAPI","HiMarsMoks","ADD_POST","SET_USER_PROFILE","SET_STATUS","posts","initialState","profile","status","userProfileReducer","state","arguments","length","undefined","action","type","newPost","id","post","newPostText","like","dislike","addPostActionCreator","setUserProfile","setStatus","getUserProfile","userId","_s","$RefreshSig$","dispatch","then","response","data","getStatus","updateStatus","resultCode"],"sources":["/home/mr/www/melnyk85developer.github.io/test-himars/src/store/userProfileReducer.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport { v1 as uuidv1 } from 'uuid';\nimport { userProfileAPI } from \"services/getUsers\";\nimport HiMarsMoks from \"../fixtures/HiMarsMoks\";\n\nconst ADD_POST = 'userProfile/ADD-POST';\nconst SET_USER_PROFILE = 'userProfile/SET-USER-PROFILE';\nconst SET_STATUS = 'userProfile/SET_STATUS';\n\nconst posts = HiMarsMoks.posts;\n\nlet initialState = {\n    profile: null,\n    status: \"\",\n    posts\n}\n\nconst userProfileReducer = (state = initialState, action) => {\n\n    switch(action.type){\n        case ADD_POST: {\n            let newPost = {\n                id: uuidv1(),\n                post: action.newPostText,\n                like: 0,\n                dislike: 0\n            };\n            return { \n                ...state,\n                posts: [...state.posts, newPost],\n                newPostText: ''\n            }\n        }\n        case SET_STATUS: {\n            return { \n                ...state,\n                status: action.status\n            };\n        }\n        case SET_USER_PROFILE: {\n            return {\n                ...state,\n                profile: action.profile\n            }\n        }\n        default:\n            return state;\n    }\n}\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\nexport const setStatus = (status) => ({type: SET_STATUS, status})\nexport const getUserProfile = (userId) => (dispatch) => {\n    useEffect(() => {\n        userProfileAPI.getUserProfile(userId).then(response => {\n            dispatch(setUserProfile(response.data));\n        })\n    }, [dispatch])\n}\nexport const getStatus = (userId) => (dispatch) => {\n    userProfileAPI.getStatus(userId)\n        .then(response => {\n            dispatch(setStatus(response.data.data))\n        })\n}\nexport const updateStatus = (status) => (dispatch) => {\n    userProfileAPI.updateStatus(status)\n        .then(response => {\n            if(response.data.resultCode === 0){\n                dispatch(setStatus(response.data))\n            }\n        })\n}\nexport default userProfileReducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}